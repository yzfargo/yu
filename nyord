import discord
import datetime

# Discord bot token
TOKEN = "YOUR_DISCORD_BOT_TOKEN"

# Create a new Discord client
intents = discord.Intents.default()
intents.typing = False
intents.presences = False
client = discord.Client(intents=intents)

@client.event
async def on_ready():
    print("Bot is ready.")

@client.event
async def on_message(message):
    # Check if the message starts with the command prefix
    if message.content.startswith("!userinfo"):
        # Get the mentioned user or the author of the message
        user = message.mentions[0] if message.mentions else message.author
        
        # Get the user ID
        user_id = str(user.id)

        # Get the user's previous usernames
        previous_tags = [entry.name for entry in user._user_tags]
        
        # Get the account creation date
        created_at = user.created_at.strftime("%Y-%m-%d %H:%M:%S")

        # Send the information as a message
        response = f"User ID: {user_id}\nPrevious Tags: {', '.join(previous_tags)}\nAccount Created At: {created_at}"
        await message.channel.send(response)

# Run the Discord bot
client.run(TOKEN)
